# CLI (Command Line Interface)

В контексте Betaflight, **CLI** (**Command Line Interface** — интерфейс командной строки) — это прямой способ общения с полетным контроллером (ПК) без графических кнопок.

Если основной интерфейс программы Betaflight Configurator — это «приборная панель» с переключателями, то CLI — это **терминал (консоль)**, где вы вводите текстовые команды напрямую в «мозг» дрона.

---

## Почему CLI так важен?

1. **Доступ к скрытым настройкам:** В графическом интерфейсе (вкладки Setup, Ports, Tuning) вынесено лишь около **20–30%** всех возможностей Betaflight. Остальные 70% настроек (тонкие параметры фильтрации, работа с GPS, поведение светодиодов, переназначение ресурсов) доступны **только** через CLI.
2. **Скорость и автоматизация:** Вместо того чтобы щелкать мышкой по 20 вкладкам, можно просто вставить заранее подготовленный текст (скрипт) в CLI и настроить весь дрон за 2 секунды.
3. **Диагностика:** С помощью команд вроде `status` или `tasks` можно узнать, почему не заводится мотор или насколько загружен процессор.

---

## Где искать панель CLI:

В Betaflight Configurator вкладка CLI находится в самом низу вертикального меню слева.

1. Подключите полетный контроллер к компьютеру и нажмите **Connect**.
2. Посмотрите на левую колонку, где перечислены все вкладки (Setup, Ports, Configuration и т.д.).
3. Прокрутите этот список вниз до упора.
4. Самая последняя кнопка в списке — это и есть **CLI**.

---

### Если вы не видите CLI:

Если список заканчивается на вкладке *Blackbox* или *Tethered Logging*, попробуйте сделать следующее:

* **Включите Expert Mode:** В самом верху программы, справа от кнопки "Connect" (или под ней, в зависимости от версии), есть переключатель **Enable Expert Mode**. Включите его, чтобы отобразить все скрытые вкладки.
* **Прокрутите меню:** Иногда список вкладок не помещается по высоте экрана. Наведите мышь на левое меню и прокрутите его вниз колесиком.
* **Проверьте подключение:** Если вы не нажали кнопку **Connect**, большинство вкладок (включая CLI) будут недоступны или скрыты.

### Как выглядит интерфейс CLI:

Когда вы нажмете на эту вкладку, перед вами откроется темное окно, похожее на командную строку Windows.

* **Внизу** находится узкая строка для ввода команд.
* **Справа внизу** расположены кнопки быстрого действия: **Save to File** (сохранить результат в файл) и **Load from File** (загрузить ваш бэкап).

---

**Будьте осторожны:** Как только вы заходите в CLI, полетный контроллер переходит в специальный режим и перестает реагировать на другие вкладки конфигуратора, пока вы не введете команду `exit` или `save`, либо просто не перейдете на другую вкладку (в новых версиях).

---
## Как это работает (основные правила)

Взаимодействие с CLI строится по принципу: **Ввод команды → Ответ системы → Сохранение.**

* **Команды:** Вы пишете команду (например, `get motor_protocol`) и нажимаете Enter.
* **Изменение:** Чтобы что-то поменять, вы пишете `set` (например, `set motor_pwm_protocol = DSHOT600`).
* **Обязательный финал:** Самое важное правило CLI — любые изменения вступают в силу только после команды **`save`**. Если вы просто настроите всё и отключите кабель, настройки не сохранятся.

---

## Самые полезные команды для пилота
[Смотреть здесь](Komandy_CLI.md)

---

## Главный риск CLI

В отличие от вкладок с кнопками, CLI **не прощает ошибок**. Если вы случайно переназначите ресурс мотора на контакт, куда подключено питание, или введете неверные параметры частоты, дрон может вести себя непредсказуемо или даже выйти из строя.

> **Золотое правило:** Перед тем как вводить что-то в CLI, всегда делайте [бэкап](Backup.md), чтобы иметь возможность вернуть всё как было.
