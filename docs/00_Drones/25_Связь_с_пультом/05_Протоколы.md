# Протоколы связи

## Введение
Для связи аппаратуры и дрона нужно иметь передатчик (TX) и приемник (RX).  
Передатчики бывают встроенными в саму аппаратуру (internal) и внешние (external), подсоединяемые к пульту через специальный разъем на задней стенке пульта.  
Приемники могут идти отдельным модулем, подсоединяемым к полетному контроллеру или быть встроенными в плату полетного контроллера.  
Для связи между передатчиком и приемником разработаны различные протоколы передачи данных.  
Важно понимать, что связь аппаратуры(пульта) и дрона возможна только при условии, что **протоколы связи** в обоих устройствах **совпадают**.  
Это означает что **оба устройства** (и пульт и дрон) должны быть оснащены оборудованием, например, ELRS либо FrSky.  
Если, например, на дроне приемник с `ELRS`, а на пульте с `FrSky`, связать их **нельзя**.  
Но, на дрон можно припаять приемник с протоколом FrSky или на аппаратуру докупить и установить внешний передатчик с ELRS. Тем самым можно добиться совпадения протоколов.

## TBS Crossfire
Компания [Team Blaсk Sheep](https://www.team-blacksheep.com/) разработала систему радиосвязи TBS Crossfire Tx, где название протокола связи - Crossfire.   
`TBS Crossfire` (TBS CRSF) - закрытая разработка, более защищенная, стабильная и все прочее, соответственно разработчик данного протокола берет дополнительную плату, в счет разработки данного протокола + за само устройство ("железо"). Никто, кроме них, устройства на TBS CRSF не производит.  

Основные особенности:  
- Дальность связи до 100 км при благоприятных условиях.  
- Низкая задержка (от 4 мс).  
- Высокая устойчивость к помехам.  
- Автоматическая регулировка мощности передатчика (от 25 мВт до 2 Вт).
- Передача телеметрии в реальном времени.

Недостатки: высокая стоимость и ограниченная совместимость с некоторыми устройствами.

## ExpressLRS (ELRS)
`ExpressLRS (ELRS)` — это система с открытым кодом для радиоуправляемых систем, разработанная сообществом энтузиастов и инженеров.  

Основные характеристики:
- Оптимизирован для высокой скорости передачи данных, низкой задержки и дальнего радиуса действия.  
- Использует протокол CRSF от Crossfire для связи между передатчиком и приемником.  
- Производители аппаратуры начали встраивать ELRS в свои устройства для удобства пользователей.  
- Открытый исходный код позволяет разработчикам вносить изменения и добавлять функции.

Больше информации об этом протоколе и прошивке устройств можно [прочитать на этой странице](10_ELRS.md)  

## FrSky (D8, D16, ACCST)
`FrSky` — это компания, разработавшая разные устройства связи и **несколько** протоколы радиоуправления.  

Есть приемники и передатчики поддерживают все семейство протоколов FrSky и еще некоторые другие протоколы. На таких устройствах стоит обозначение `CC2500`.  

## DJI
Компания DJI использует собственные закрытые системы управления, несовместимые с другими протоколами. Однако дроны сторонних производителей, оснащенные видеосистемами от DJI, могут использовать протоколы ELRS или другие для управления. 

## ELRS vs Crossfire
Выбор между ELRS (ExpressLRS) и Crossfire для FPV дрона зависит от нескольких факторов:  

### 1. Дальность и надежность  
- Crossfire – проверенная система с огромной дальностью (до 40+ км в идеальных условиях), отлично подходит для long-range.  
- ELRS – современный протокол, который в последних версиях (900 МГц) догоняет Crossfire по дальности (30+ км), а в 2.4 ГГц версии дает ~10-20 км.  

### 2. Задержка (Latency)  
- ELRS – минимальный лаг (менее 10 мс), лучше для racing и freestyle, где важна скорость отклика.  
- Crossfire – задержка чуть выше (~15-30 мс), но для long-range и cinematic полетов это не критично.  

### 3. Цена и доступность  
- ELRS – дешевле (модули и приемники стоят в 2-3 раза меньше Crossfire).  
- Crossfire – дороже, но очень надежен, особенно в экстремальных условиях.  

### 4. Совместимость и экосистема  
- ELRS – открытый протокол, поддержка многих радио (Radiomaster, Happymodel, BetaFPV и др.).  
- Crossfire – экосистема TBS (более закрытая, но очень стабильная).  

### 5. Помехоустойчивость  
- 900 МГц (ELRS и Crossfire) – лучше проникают через препятствия (деревья, здания).  
- 2.4 ГГц ELRS – больше каналов, меньше помех в городе, но хуже на дальности в сложных условиях.  

### Что выбрать?  
✅ ELRS (2.4 ГГц) – если летаете freestyle, racing или бюджет ограничен.  
✅ ELRS (900 МГц) – если нужна дальность как у Crossfire, но дешевле.  
✅ Crossfire – если летаете long-range и нужна максимальная надежность + вы готовы платить за проверенное решение.  

Мой выбор:  
- Для гоночных и фристайл дронов – ELRS 2.4 ГГц.  
- Для long-range и cinematic – Crossfire или ELRS 900 МГц (в зависимости от бюджета).  

Если у вас уже есть пульт с поддержкой ELRS (например, Radiomaster Boxer/TX12 MkII, Zorro), то ELRS – отличный вариант. Если у вас TBS Tango 2 или другой Crossfire-совместимый пульт, то Crossfire тоже хорош.

## Обзоры и статьи

[Протоколы радиоуправления (FPV-моделями) для новичков. FrSky, ELRS, TBS Crossfire. YouTube: Хобби - летать](https://www.youtube.com/watch?v=hLoyoHPImGc)

[Протоколы радиосвязи в FPV хобби (https://dzen.ru/)](https://dzen.ru/a/ZiLBSqVdQClE3k75)

[Які бувають протоколи керування дронами? | ERLS, Crossfire, DSMX, FrSky. YouTube: Phoenix drones (укр.)](https://www.youtube.com/watch?v=zzsXpdj7wXo)
